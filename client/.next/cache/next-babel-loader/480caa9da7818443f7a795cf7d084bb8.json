{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mygo/Workspace/microService/ticketingTS/client/pages/auth/signup.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 500px;\\n  height: 200px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 200px;\\n  height: 200px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport useRequest from '../../hooks/use-request';\nimport styled from 'styled-components';\nimport { i18n, Link, withTranslation } from '../../utils/i18n';\nimport Outside from '../../assets/outside.svg';\nimport CustomButton from '../../components/custom-button/custom-button.component.jsx';\nvar IconContainer = styled.div(_templateObject());\n_c = IconContainer;\nvar ButtonContainer = styled.div(_templateObject2()); // const LangButton = ({t}) => (\n//   <div>\n//     <CustomButton children={t('pushButton')} />\n//   </div>\n// );\n\nvar SignUp = function SignUp() {\n  _s();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var router = useRouter();\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useRequest = useRequest({\n    url: '/api/users/signup',\n    method: 'post',\n    body: {\n      email: email,\n      password: password\n    },\n    onSuccess: function onSuccess() {\n      return Router.push('/');\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return doRequest();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"form\", {\n    onSubmit: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Sign Up\"), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Email Address\"), __jsx(\"input\", {\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    type: \"password\",\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })), errors, __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Sign Up\"), __jsx(IconContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(Outside, {\n    color: \"green\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  })), __jsx(CustomButton, {\n    children: t('pushButton'),\n    onClick: function onClick() {\n      return i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }));\n};\n\n_s(SignUp, \"vI+2mG4SAoRbxxvwHwc6GfSZMhM=\", true, function () {\n  return [useRouter, useRequest];\n});\n\n_c2 = SignUp;\nSignUp.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", {\n            namespacesRequired: ['common']\n          });\n\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}));\nexport default withTranslation('common')(SignUp);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"IconContainer\");\n$RefreshReg$(_c2, \"SignUp\");","map":{"version":3,"sources":["/Users/mygo/Workspace/microService/ticketingTS/client/pages/auth/signup.js"],"names":["useState","useEffect","Router","useRouter","useRequest","styled","i18n","Link","withTranslation","Outside","CustomButton","IconContainer","div","ButtonContainer","SignUp","useTranslation","t","router","email","setEmail","password","setPassword","url","method","body","onSuccess","push","doRequest","errors","onSubmit","event","preventDefault","e","target","value","changeLanguage","language","getInitialProps","namespacesRequired"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport useRequest from '../../hooks/use-request';\nimport styled from 'styled-components';\nimport { i18n, Link, withTranslation } from '../../utils/i18n';\n\nimport Outside from '../../assets/outside.svg';\nimport CustomButton from '../../components/custom-button/custom-button.component.jsx';\n\n\nconst IconContainer = styled.div`\n  width: 200px;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nconst ButtonContainer = styled.div`\n  width: 500px;\n  height: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\n\n// const LangButton = ({t}) => (\n//   <div>\n//     <CustomButton children={t('pushButton')} />\n//   </div>\n// );\n\n\n\nconst SignUp = () => {\n  const { t } = useTranslation();\n  const router = useRouter();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { doRequest, errors } = useRequest({\n    url: '/api/users/signup',\n    method: 'post',\n    body: {\n      email,\n      password\n    },\n    onSuccess: () => Router.push('/')\n  });\n\n  const onSubmit = async event => {\n    event.preventDefault();\n\n    await doRequest();\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <h1>Sign Up</h1>\n      <div className=\"form-group\">\n        <label>Email Address</label>\n        <input\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          className=\"form-control\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Password</label>\n        <input\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          type=\"password\"\n          className=\"form-control\"\n        />\n      </div>\n      {errors}\n      <button className=\"btn btn-primary\">Sign Up</button>\n      <IconContainer>\n        <Outside color='green'/>\n      </IconContainer>\n      \n        <CustomButton \n          children={t('pushButton')} \n          onClick={() => i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh')}\n        />\n      \n    </form>\n  );\n};\n\n\nSignUp.getInitialProps = async () => ({\n  namespacesRequired: ['common'],\n})\n\n\n\nexport default withTranslation('common')(SignUp);\n"]},"metadata":{},"sourceType":"module"}